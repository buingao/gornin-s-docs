# 网页布局

- 静态布局：单位 px，定宽

- 流式布局：宽度单位为%百分比，搭配 min-width/max-width 限制流动范围；改变分辨率，宽度会跟着变化，高度一般不变，布局也不变，栅格系统

- 自适应布局：`多套静态布局`，通过媒体查询`@media`应用某一套布局样式，单位还是 px

- 响应式布局：媒体查询`@media`、`多套流式布局`分别对应一个屏幕分辨率范围，在不同设备上的布局可能不一样

- 弹性布局：单位使用 rem/em，页面是同一套，会按比例缩放

## 结论

1. 如果只做 pc 端，那么`静态布局（定宽度）`是最好的选择；

2. 如果做移动端，且设计对高度和元素间距要求不高，那么`弹性布局（rem+js）`是最好的选择，一份 css+一份 js 调节 font-size 搞定；

3. 如果 pc，移动要兼容，而且要求很高，那么`响应式布局`还是最好的选择，前提是设计根据不同的高宽做不同的设计，响应式根据`媒体查询`做不同的布局。

## 响应式 和 弹性布局 对比

- 响应式布局

  改变浏览器宽度，“布局”会随之变化，不是一成不变的，例如导航栏在大屏幕下是横排，在小屏幕下是竖排，在超小屏幕下隐藏为菜单，也就是说如果有足够的耐心，在每一种屏幕下都应该有合理的布局，完美的效果。

- rem 布局

  改变浏览器宽度，页面所有元素的高宽都等比例缩放，也就是大屏幕下导航是横的，小屏幕下还是横的，只不过变小了。

## 响应式 和 自适应布局

- 相同点

  响应式与自适应的原理是相似的，都是检测设备，根据不同的设备采用不同的 css

- 不同点

  - 响应式的模板在不同的设备上看上去是不一样的，会随着设备的改变而改变展示样式；

  - 而自适应不会，所有的设备看起来都是一套的模板，不过是长度或者图片变小了，不会根据设备采用不同的展示样式，

## 响应式 和 流式布局

- 流式布局是用于解决类似的设备不同分辨率之间的兼容问题(一般分辨率差异较少)；

- 响应式是用于解决不用设备之间不用分辨率之间的兼容问题(一般是指 PC，平板，手机等设备之间较大的分辨率差异)。

## 响应式布局 Responsive Layout

随着 CSS3 出现了媒体查询技术，又出现了响应式设计的概念。

创建多个流体式布局，分别对应一个屏幕分辨率范围。

响应式设计的目标是确保一个页面在所有终端上（PC、手机、平板等等）都能显示出令人满意的效果。

通常是糅合了流式布局+弹性布局，再搭配媒体查询技术使用，分别为不同的屏幕分辨率定义布局。

在每个布局中，应用流式布局的理念，即页面元素宽度随着窗口调整而自动适配。

响应式几乎已经成为优秀页面布局的标准。

布局特点：每个屏幕分辨率下面会有一个布局样式，即元素位置和大小都会变。

设计方法：`媒体查询` + `流式布局`。通常使用 `@media` 媒体查询 和`网格系统` (Grid System) 配合`相对布局单位`进行布局，实际上就是综合响应式、流动等技术通过 CSS 给单一网页不同设备返回不同样式的技术统称。

```html
<meta name="applicable-device" content="pc,mobile" />
<meta http-equiv="Cache-Control" content="no-transform " />
```

优点：适应 pc 和移动端，如果足够耐心，效果完美。

缺点：

- 媒体查询是有限的，也就是可以枚举出来的，只能适应主流的宽高。
- 要匹配足够多的屏幕大小，工作量不小，设计也需要多个版本。

## 自适应布局（Adaptive Layout）

自适应布局的特点是<u>分别为不同的屏幕分辨率定义布局，即创建多个静态布局</u>，每个静态布局对应一个屏幕分辨率范围。

改变屏幕分辨率可以切换不同的静态局部（页面元素位置发生改变），但在每个静态布局中，页面元素不随窗口大小的调整发生变化。

可以把自适应布局看作是静态布局的一个系列。

布局特点：屏幕分辨率变化时，页面里面元素的位置会变化而大小不会变化。

设计方法：使用 @media 媒体查询给不同尺寸和介质的设备切换不同的样式。在优秀的响应范围设计下可以给适配范围内的设备最好的体验，在同一个设备下实际还是固定的布局。

## 流式布局（Liquid Layout）

流式布局（Liquid）的特点（也叫"Fluid") 是<u>页面元素的宽度按照屏幕分辨率进行适配调整，但整体布局不变</u>。代表作栅栏系统（网格系统）。

网页中主要的划分区域的尺寸使用百分数（搭配 min-*、max-*属性使用），例如，设置网页主体的宽度为 80%，min-width 为 960px。图片也作类似处理（width:100%, max-width 一般设定为图片本身的尺寸，防止被拉伸而失真）。

布局特点：屏幕分辨率变化时，页面里元素的大小会变化而但布局不变。这就导致如果屏幕太大或者太小都会导致元素无法正常显示。

设计方法：使用%百分比定义宽度，高度大都是用 px 来固定住，可以根据可视区域 (viewport) 和父元素的实时尺寸进行调整，尽可能的适应各种分辨率。<u>往往配合 max-width/min-width 等属性控制尺寸流动范围以免过大或者过小影响阅读。</u>

<h5>缺点</h5>

主要的问题是如果屏幕尺度跨度太大，那么在相对其原始设计而言过小或过大的屏幕上不能正常显示。因为宽度使用%百分比定义，但是高度和文字大小等大都是用 px 来固定，所以在大屏幕的手机下显示效果会变成有些页面元素宽度被拉的很长，但是高度、文字大小还是和原来一样（即，这些东西无法变得“流式”），显示非常不协调。

## 静态布局（Static Layout）

传统 Web 设计，网页上的所有元素的尺寸一律使用 px 作为单位。

布局特点：不管浏览器尺寸具体是多少，网页布局始终按照最初写代码时的布局来显示。常规的 pc 的网站都是静态（定宽度）布局的，也就是设置了 min-width，这样的话，如果小于这个宽度就会出现滚动条，如果大于这个宽度则内容居中外加背景，这种设计常见与 pc 端。

## 弹性布局 rem/em 布局

rem,em 都是顺应不同网页字体大小展现而产生的。其中，em 是相对其`父元素`，在实际应用中相对而言会带来很多不便；而 rem 是始终相对于 html 大小，即`页面根元素`。

使用 em 或 rem 单位进行相对布局，相对%百分比更加灵活，同时可以支持浏览器的字体大小调整和缩放等的正常显示。

浏览器的默认字体高度一般为 16px，即 1em:16px，但是 1:16 的比例不方便计算，为了使单位 em/rem 更直观，CSS 编写者常常将页面跟节点字体设为 62.5%，比如选择用 rem 控制字体时，先需要设置根节点 html 的字体大小，因为浏览器默认字体大小 16px\*62.5%=10px。这样 1rem 便是 10px，方便了计算。

那么为什么一般多是 html{font-size:62.5%;} 而不是 html{font-size:10px;}呢？

因为有些浏览器默认的不是 16px，或者用户修改了浏览器默认的字体大小（因浏览器分辨率大小，视力，习惯等因素）。如果我们将其设置为 10px，一定会影响在这些浏览器上的效果，所以最好用绝大多数用户默认的 16 作为基数 \* 62.5% 得到我们需要的 10px。

```css
html {
  font-size: 62.5%; /*10 ÷ 16 × 100% = 62.5%*/
}
body {
  font-size: 1.4rem; /*1.4 × 10px = 14px */
}
h1 {
  font-size: 2.4rem; /*2.4 × 10px = 24px*/
}
```

实际项目设置成 font-size: 62.5%可能会出现问题，因为 chrome 不支持小于 12px 的字体，计算小于 12px 的时候，会默认取 12px 去计算，导致 chrome 的 em/rem 计算不准确。

针对这个现象，可以尝试设置 html 字体为 100px，body 修正为 16px，这样 0.1rem 就是 10px，而 body 的字体仍然是默认大小，不影响未设置大小的元素的默认字体的大小。

用 em/rem 定义尺寸的另一个好处是更能适应缩进/以字体单位 padding 或 margin／浏览器设置字体尺寸等情况（因为 em/rem 相对于字体大小，会同步改变）。例如：p{ text-indent: 2em; }

rem 的定义：font size of the root element，rem 是相对于根元素`<html>`来设置字体大小的，这就意味着，我们只需要根据自己的需求在根元素确定一个参考值。

rem 与 em、px 的区别：

- px：像素，比较精确的单位，但不好做响应式布局
- em：以父节点 font-size 大小为参考点，标准不统一，容易造成混乱

对于不同尺寸的屏幕，可以统一假设屏幕宽度为 640px 后编写 CSS（当然你也可以假定统一为 320px）。此时，我们设定 html 元素的 font-size 为 40px（同样，只是举例），然后各处（元素尺寸、文字大小）使用 rem 作为单位，随后搭配媒体查询或 JS，根据屏幕的大小来动态控制 html 元素的 font-size（特定屏幕尺寸下，html 元素的 font-size 应当设置为何值，是使用这个方案时设计师和程序员需要反复考虑后确定的，以下试举一段相关的 CSS 媒体查询代码），即可自动改变所有用 rem 定义尺寸的元素的大小

```css
html {
  font-size: 20px;
}
@media only screen and (min-width: 401px) {
  html {
    font-size: 25px !important;
  }
}
@media only screen and (min-width: 428px) {
  html {
    font-size: 26.75px !important;
  }
}
@media only screen and (min-width: 481px) {
  html {
    font-size: 30px !important;
  }
}
@media only screen and (min-width: 569px) {
  html {
    font-size: 35px !important;
  }
}
@media only screen and (min-width: 641px) {
  html {
    font-size: 40px !important;
  }
}
```

优点：理想状态是所有屏幕的高宽比和最初的设计高宽比一样，或者相差不多，完美适应。

缺点：这种 rem+js 只不过是宽度自适应，高度没有做到自适应，一些对高度，或者元素间距要求比较高的设计，则这种布局没有太大的意义。如果只是宽度自适应，更推荐响应式设计。

## 参考

[响应式布局-caibaojian](http://caibaojian.com/356.html)

[响应式布局-张鑫旭](https://www.zhangxinxu.com/wordpress/2011/09/%e9%a1%b5%e9%9d%a2%e5%93%8d%e5%ba%94%e5%b8%83%e5%b1%80/)

[vw/vh](https://www.zhangxinxu.com/wordpress/2012/09/new-viewport-relative-units-vw-vh-vm-vmin/)

[几种布局](https://www.cnblogs.com/yanayana/p/7066948.html)
